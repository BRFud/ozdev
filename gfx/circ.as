global	_ozcircle
global	ncsv, cret, indir
psect	data
e67:
deff	1.4142135623731
global	lbtof
global	fldiv
global	ftol
global	_table
global	shll
global	ldiv
global	lmul
global	shlr
global	_ozpoint
global	brelop
psect	text
_ozcircle:
global csv
call csv
push hl
push hl
ld	de,(e67)
ld	hl,(e67+2)
push	hl
push	de
ld	a,(ix+10)
call	lbtof
call	fldiv
call	ftol
ld	(ix+-2),e
ld	(ix+-1),0
jp	l5
l2:
ld	e,(ix+10)
ld	d,0
ld	b,8
ld	l,(ix+-1)
ld	h,d
call	shll
call	ldiv
ld	de,_table
add	hl,de
ld	l,(hl)
ld	h,0
ld	e,(ix+10)
ld	d,h
call	lmul
ld	de,128
add	hl,de
ld	b,8
call	shlr
ld	(ix+-3),l
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
add	a,(ix+-3)
ld	c,a
push	bc
ld	a,(ix+6)
add	a,(ix+-1)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
add	a,(ix+-3)
ld	c,a
push	bc
ld	a,(ix+6)
sub	(ix+-1)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
sub	(ix+-3)
ld	c,a
push	bc
ld	a,(ix+6)
add	a,(ix+-1)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
sub	(ix+-3)
ld	c,a
push	bc
ld	a,(ix+6)
sub	(ix+-1)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
add	a,(ix+-1)
ld	c,a
push	bc
ld	a,(ix+6)
add	a,(ix+-3)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
add	a,(ix+-1)
ld	c,a
push	bc
ld	a,(ix+6)
sub	(ix+-3)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
sub	(ix+-1)
ld	c,a
push	bc
ld	a,(ix+6)
add	a,(ix+-3)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
ld	l,(ix+12)
push	hl
ld	a,(ix+8)
sub	(ix+-1)
ld	c,a
push	bc
ld	a,(ix+6)
sub	(ix+-3)
ld	c,a
push	bc
call	_ozpoint
pop	bc
pop	bc
pop	bc
inc	(ix+-1)
l5:
ld	b,(ix+-2)
ld	a,(ix+-1)
call	brelop
jp	c,l2
jp	cret
global	_inittable
global	_sqrt
psect	data
e72:
deff	256
e71:
deff	255
global	amul
global	aitof
e70:
deff	256
e69:
deff	256
global	flmul
global	flsub
global	flmul
global	fldiv
global	ftol
global	wrelop
psect	text
_inittable:
global csv
call csv
push hl
push hl
ld	(ix+-2),0
ld	(ix+-1),0
jp	l10
l7:
ld	de,(e72)
ld	hl,(e72+2)
push	hl
push	de
ld	de,(e71)
ld	hl,(e71+2)
push	hl
push	de
ld	e,(ix+-2)
ld	d,(ix+-1)
ld	l,e
ld	h,d
call	amul
call	aitof
push	hl
push	de
ld	de,(e70)
ld	hl,(e70+2)
push	hl
push	de
ld	de,(e69)
ld	hl,(e69+2)
call	flmul
call	flsub
push	hl
push	de
call	_sqrt
pop	bc
pop	bc
call	flmul
call	fldiv
call	ftol
ld	(ix+-4),e
ld	(ix+-3),d
ld	a,e
ld	e,(ix+-2)
ld	d,(ix+-1)
ld	hl,_table
add	hl,de
ld	(hl),a
ld	l,e
ld	h,d
inc	hl
ld	(ix+-2),l
ld	(ix+-1),h
l10:
ld	de,181
ld	l,(ix+-2)
ld	h,(ix+-1)
call	wrelop
jp	m,l7
jp	cret
global	_main
global	_ozgetch
_main:
call	_inittable
ld	l,1
push	hl
ld	l,39
push	hl
ld	l,40
push	hl
push	hl
call	_ozcircle
pop	bc
pop	bc
pop	bc
pop	bc
ld	l,1
push	hl
push	hl
ld	l,40
push	hl
push	hl
call	_ozcircle
pop	bc
pop	bc
pop	bc
pop	bc
ld	l,1
push	hl
ld	l,5
push	hl
ld	l,40
push	hl
push	hl
call	_ozcircle
pop	bc
pop	bc
pop	bc
pop	bc
jp	_ozgetch
psect	bss
_table:
defs	181
psect	text
,h
l10:
ld	de,181
ld	l,(ix+-2)
ld	h,(ix+-1)
call	wrelop
jp	m,l7
jp	cret
